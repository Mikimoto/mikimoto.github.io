<?xml version="1.0" encoding="utf-8"?><?xml-stylesheet type="text/xsl" href="atom.xsl"?>
<feed xmlns="http://www.w3.org/2005/Atom">
    <id>https://mikimoto.github.io/blog</id>
    <title>Mikimoto 軟體開發筆記 Blog</title>
    <updated>2024-02-27T00:00:00.000Z</updated>
    <generator>https://github.com/jpmonette/feed</generator>
    <link rel="alternate" href="https://mikimoto.github.io/blog"/>
    <subtitle>Mikimoto 軟體開發筆記 Blog</subtitle>
    <icon>https://mikimoto.github.io/img/favicon.ico</icon>
    <entry>
        <title type="html"><![CDATA[How do I check if a port is in use on Linux?]]></title>
        <id>https://mikimoto.github.io/blog/check-linux-in-use-port</id>
        <link href="https://mikimoto.github.io/blog/check-linux-in-use-port"/>
        <updated>2024-02-27T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[常常有時候要查 Linux 使用 port 的狀況，來確定 service 是否正常，就還要用 man 去查參數，寫篇文紀錄一下。]]></summary>
        <content type="html"><![CDATA[<p>常常有時候要查 Linux 使用 port 的狀況，來確定 service 是否正常，就還要用 man 去查參數，寫篇文紀錄一下。</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="檢查-linux-目前使用的-port">檢查 Linux 目前使用的 port<a href="https://mikimoto.github.io/blog/check-linux-in-use-port#%E6%AA%A2%E6%9F%A5-linux-%E7%9B%AE%E5%89%8D%E4%BD%BF%E7%94%A8%E7%9A%84-port" class="hash-link" aria-label="檢查 Linux 目前使用的 port的直接連結" title="檢查 Linux 目前使用的 port的直接連結">​</a></h2>
<ol>
<li>使用以下 command</li>
</ol>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">sudo lsof -i -P -n | grep LISTEN</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sudo netstat -tulpn | grep LISTEN</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sudo netstat -tulpn | grep :443</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sudo ss -tulpn | grep LISTEN</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sudo ss -tulpn | grep ':22'</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sudo fuser -v -n tcp 443</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="複製程式碼至剪貼簿" title="複製" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ol start="2">
<li>從 /etc/services 搜尋，把 PORT_NUMBER_HERE 換成要搜尋的 port</li>
</ol>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">grep -E -w '[PORT_NUMBER_HERE]/(tcp|udp)' /etc/services</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="複製程式碼至剪貼簿" title="複製" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="搜尋哪一個-process-正在-listening-port-443">搜尋哪一個 process 正在 listening port 443<a href="https://mikimoto.github.io/blog/check-linux-in-use-port#%E6%90%9C%E5%B0%8B%E5%93%AA%E4%B8%80%E5%80%8B-process-%E6%AD%A3%E5%9C%A8-listening-port-443" class="hash-link" aria-label="搜尋哪一個 process 正在 listening port 443的直接連結" title="搜尋哪一個 process 正在 listening port 443的直接連結">​</a></h2>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">sudo netstat -tulpn | grep :443</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sudo ss -tulpn | grep ':443'</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="複製程式碼至剪貼簿" title="複製" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="取得所有-open-port-的清單">取得所有 open port 的清單<a href="https://mikimoto.github.io/blog/check-linux-in-use-port#%E5%8F%96%E5%BE%97%E6%89%80%E6%9C%89-open-port-%E7%9A%84%E6%B8%85%E5%96%AE" class="hash-link" aria-label="取得所有 open port 的清單的直接連結" title="取得所有 open port 的清單的直接連結">​</a></h2>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">sudo lsof -i -P -n | grep LISTEN</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sudo ss -tulpn</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sudo netstat -tulpn</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="複製程式碼至剪貼簿" title="複製" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Sample outputs:</p>
<div class="language-Shell language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Active Internet connections (only servers)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Proto Recv-Q Send-Q Local Address           Foreign Address         State       PID/Program name</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">tcp        0      0 127.0.0.1:6379          0.0.0.0:*               LISTEN      500/redis-server 12</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">tcp        0      0 0.0.0.0:80              0.0.0.0:*               LISTEN      438/nginx -g daemon</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">tcp        0      0 127.0.0.1:8080          0.0.0.0:*               LISTEN      407/lighttpd    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">tcp        0      0 0.0.0.0:443             0.0.0.0:*               LISTEN      438/nginx -g daemon</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">tcp6       0      0 :::80                   :::*                    LISTEN      438/nginx -g daemon</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">udp        0      0 0.0.0.0:68              0.0.0.0:*                           277/dhclient</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="複製程式碼至剪貼簿" title="複製" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="use-fuser-command-to-check-if-a-tcp-or-udp-port-is-in-use-on-linux">Use fuser command to check if a TCP or UDP port is in use on Linux<a href="https://mikimoto.github.io/blog/check-linux-in-use-port#use-fuser-command-to-check-if-a-tcp-or-udp-port-is-in-use-on-linux" class="hash-link" aria-label="Use fuser command to check if a TCP or UDP port is in use on Linux的直接連結" title="Use fuser command to check if a TCP or UDP port is in use on Linux的直接連結">​</a></h2>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">sudo fuser -v -n &lt;protocol&gt; &lt;port&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="複製程式碼至剪貼簿" title="複製" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Ex: 檢查 SSHD (port 22) is in use:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">sudo fuser -v -n tcp 22</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="複製程式碼至剪貼簿" title="複製" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Outputs:</p>
<div class="language-Shell language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">                     USER        PID ACCESS COMMAND</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">22/tcp:              root        663 F.... sshd</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                     root       9877 F.... sshd</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                     ubuntu     9992 F.... sshd</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="複製程式碼至剪貼簿" title="複製" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Ex: 檢查 DNS Server (port 53) UDP port is in use:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">sudo fuser -nv udp 53</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="複製程式碼至剪貼簿" title="複製" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Outputs:</p>
<div class="language-Shell language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">53/udp:                392  1189</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="複製程式碼至剪貼簿" title="複製" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="use-nc-command-來檢查-tcp-or-udp-port-is-used">Use nc command 來檢查 TCP or UDP port is used<a href="https://mikimoto.github.io/blog/check-linux-in-use-port#use-nc-command-%E4%BE%86%E6%AA%A2%E6%9F%A5-tcp-or-udp-port-is-used" class="hash-link" aria-label="Use nc command 來檢查 TCP or UDP port is used的直接連結" title="Use nc command 來檢查 TCP or UDP port is used的直接連結">​</a></h2>
<p>Try the nc command as follows to scan the open ports (TCP/22 ssh port) of a specified host (10.8.0.1):</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">nc -v -z &lt;ip_address&gt; &lt;port&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">nc -v -z 10.8.0.1 22</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="複製程式碼至剪貼簿" title="複製" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Outputs:</p>
<div class="language-Shell language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Connection to 10.8.0.1 22 port [tcp/ssh] succeeded!</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="複製程式碼至剪貼簿" title="複製" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>不過如果你在防火牆(block port 22)背後，則 Output 會變成以下這樣</p>
<div class="language-Shell language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">nc: connect to 10.8.0.1 port 23 (tcp) failed: Connection refused</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="複製程式碼至剪貼簿" title="複製" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>]]></content>
        <author>
            <name>Mikimoto</name>
            <uri>https://mikimoto.github.io</uri>
        </author>
        <category label="Linux" term="Linux"/>
        <category label="System" term="System"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[NeoVim + LazyVim 設定筆記]]></title>
        <id>https://mikimoto.github.io/blog/nvim-setting</id>
        <link href="https://mikimoto.github.io/blog/nvim-setting"/>
        <updated>2024-01-07T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[紀錄一下自己的 NeoVim + LazyVim 設定筆記。]]></summary>
        <content type="html"><![CDATA[<p>紀錄一下自己的 NeoVim + LazyVim 設定筆記。</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="installation">Installation<a href="https://mikimoto.github.io/blog/nvim-setting#installation" class="hash-link" aria-label="Installation的直接連結" title="Installation的直接連結">​</a></h2>
<p>Install NeoVim</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">brew install neovim</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="複製程式碼至剪貼簿" title="複製" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><a href="https://www.lazyvim.org/installation" target="_blank" rel="noopener noreferrer">Install LazyVim</a> (以 macos 為例)</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">git clone https://github.com/LazyVim/starter ~/.config/nvim</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="複製程式碼至剪貼簿" title="複製" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>以上就是這麼簡單完成設定，第一次使用 nvim 會安裝預設套件，之後就可以使用了。</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="configuration">Configuration<a href="https://mikimoto.github.io/blog/nvim-setting#configuration" class="hash-link" aria-label="Configuration的直接連結" title="Configuration的直接連結">​</a></h2>]]></content>
        <author>
            <name>Mikimoto</name>
            <uri>https://mikimoto.github.io</uri>
        </author>
        <category label="MacOS" term="MacOS"/>
        <category label="System" term="System"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[HP 印表機在 Mac OX Big Sur 上無法運作]]></title>
        <id>https://mikimoto.github.io/blog/macos-bigsur-printer-driver</id>
        <link href="https://mikimoto.github.io/blog/macos-bigsur-printer-driver"/>
        <updated>2020-12-03T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[紀錄一下在 Mac OS Big Sur 上遇到舊 HP Printer(CM1312nfi) 驅動程式無法運作的問題。]]></summary>
        <content type="html"><![CDATA[<p>紀錄一下在 Mac OS Big Sur 上遇到舊 HP Printer(CM1312nfi) 驅動程式無法運作的問題。</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="狀況">狀況<a href="https://mikimoto.github.io/blog/macos-bigsur-printer-driver#%E7%8B%80%E6%B3%81" class="hash-link" aria-label="狀況的直接連結" title="狀況的直接連結">​</a></h2>
<p>在 Mac OS Big Sur 上面要列印時發現 HP Printer Driver 已經被視為有害軟體 XD，根據 <a href="https://discussions.apple.com/thread/252047347" target="_blank" rel="noopener noreferrer">這篇討論</a>，看起來 HP 應該是沒有繼續為旗下軟體更換憑證，才造成這個問題。</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="解決方案">解決方案<a href="https://mikimoto.github.io/blog/macos-bigsur-printer-driver#%E8%A7%A3%E6%B1%BA%E6%96%B9%E6%A1%88" class="hash-link" aria-label="解決方案的直接連結" title="解決方案的直接連結">​</a></h2>
<p>目前看起來比較好的方案是移除 HP Driver 後，安裝 Open Source 的解決方案。</p>
<ul>
<li>移除 HP Driver<!-- -->
<ul>
<li>先移除印表機</li>
<li>下載 <a href="https://ftp.hp.com/pub/softlib/software12/HP_Quick_Start/osx/Installations/Essentials/HP_Uninstaller.zip" target="_blank" rel="noopener noreferrer">HP Uninstaller</a> 反安裝 HP Driver。</li>
</ul>
</li>
<li>安裝 Open Source Printer Driver<!-- -->
<ul>
<li><a href="https://sourceforge.net/projects/gimp-print/files/" target="_blank" rel="noopener noreferrer">在這裡下載 Gutenprint - Top Quality Printer Drivers</a>，支援的印表機列表可以<a href="http://gimp-print.sourceforge.net/p_Supported_Printers.php" target="_blank" rel="noopener noreferrer">看這裡</a>。</li>
<li>安裝後，重新安裝印表機，並手懂選擇合適 Driver 即可。</li>
</ul>
</li>
</ul>]]></content>
        <author>
            <name>Mikimoto</name>
            <uri>https://mikimoto.github.io</uri>
        </author>
        <category label="Apple" term="Apple"/>
        <category label="System" term="System"/>
        <category label="MacOS" term="MacOS"/>
        <category label="Driver" term="Driver"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[Apple DTK Restore 筆記]]></title>
        <id>https://mikimoto.github.io/blog/apple-dtk-restore</id>
        <link href="https://mikimoto.github.io/blog/apple-dtk-restore"/>
        <updated>2020-11-20T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[紀錄一下自己設定 Apple DTK mini 的工作環境。]]></summary>
        <content type="html"><![CDATA[<p>紀錄一下自己設定 Apple DTK mini 的工作環境。</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="工作環境">工作環境<a href="https://mikimoto.github.io/blog/apple-dtk-restore#%E5%B7%A5%E4%BD%9C%E7%92%B0%E5%A2%83" class="hash-link" aria-label="工作環境的直接連結" title="工作環境的直接連結">​</a></h2>
<ul>
<li>
<p>Xcode 12.3beta 安裝
這一版的 Xcode 不會幫你安裝 Command Line Tool，所以要自行安裝</p>
</li>
<li>
<p>Xcode Command Line Tool for Xcode 12.3</p>
</li>
<li>
<p>安裝 Rosetta VM</p>
<p>因為現在很多程式尚未 porting 到 ARM chip，所以先用 Rosetta x86_64 VM 來模擬</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">softwareupdate --install-rosetta</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="複製程式碼至剪貼簿" title="複製" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Rosetta Command Line 的使用方式為：</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">arch -x86_64 [COMMAND]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="複製程式碼至剪貼簿" title="複製" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>
<p>安裝 Homebrew</p>
<p>因為目前 Homebrew  尚未 porting 到 ARM chip 上，所以我們需要先用 Rosetta 2 VM 來模擬 x86_64 平台來執行。</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">arch -x86_64 /bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install.sh)"</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="複製程式碼至剪貼簿" title="複製" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>
<p>Restore Homebrew 套件</p>
<p>因為有裝 brew-file，平時就會把他備份到 iCloud 上，所以直接從 iCloud 拉回來，另外 Restore 時發現不知道什麼緣故 Brewfile 裡面的套件必須要用雙引號包起來才有辦法 Restore 所以也得先處理一下 Brewfile</p>
</li>
</ul>]]></content>
        <author>
            <name>Mikimoto</name>
            <uri>https://mikimoto.github.io</uri>
        </author>
        <category label="Apple" term="Apple"/>
        <category label="System" term="System"/>
        <category label="Restore" term="Restore"/>
        <category label="Backup" term="Backup"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[Xcode debug 筆記]]></title>
        <id>https://mikimoto.github.io/blog/xcode-debug-note</id>
        <link href="https://mikimoto.github.io/blog/xcode-debug-note"/>
        <updated>2020-11-18T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[紀錄一下自己常用的 Xcode debug 設定與 keyword，以免忘記。]]></summary>
        <content type="html"><![CDATA[<p>紀錄一下自己常用的 Xcode debug 設定與 keyword，以免忘記。</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="基本用法">基本用法<a href="https://mikimoto.github.io/blog/xcode-debug-note#%E5%9F%BA%E6%9C%AC%E7%94%A8%E6%B3%95" class="hash-link" aria-label="基本用法的直接連結" title="基本用法的直接連結">​</a></h2>
<ul>
<li>p, print, call: [expression]</li>
</ul>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">(lldb) p count</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">(Int) $R0 = 10</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="複製程式碼至剪貼簿" title="複製" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li>po: [expression]</li>
</ul>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">(lldb) po self</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;DispatchInProtocol.ViewController: 0x7fd404f05e50&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">(lldb) expr -l objc++ -0 -- @[@"a", @"b"]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;__NSArrayI 0x60400022d940&gt;(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">a,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">b</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="複製程式碼至剪貼簿" title="複製" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>不只拿來列印變數，還可以改變執行內容</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">(lldb) print self.view.backgroundColor = UIColor.red</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">(lldb) print CATransaction.flush()</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="複製程式碼至剪貼簿" title="複製" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li>breakpoint, br: [expression]</li>
</ul>
<p>指令可以縮寫到唯一配對即可</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">(lldb) breakpoint set -n main</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Breakpoint 4: 44 locations.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">(lldb) br s -n main</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Breakpoint 4: 44 locations.</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="複製程式碼至剪貼簿" title="複製" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li>eobjc: [expression]</li>
</ul>
<p>可以執行時期宣告變數，$ 開頭之變數可存在於 lldb 執行期間</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">(lldb) eobjc int $a = 10</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">(lldb) po $a</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">10</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">(lldb) p $a * 19</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">(int) $1 = 190</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">(lldb)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="複製程式碼至剪貼簿" title="複製" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>]]></content>
        <author>
            <name>Mikimoto</name>
            <uri>https://mikimoto.github.io</uri>
        </author>
        <category label="Xcode" term="Xcode"/>
        <category label="Debug" term="Debug"/>
        <category label="Development" term="Development"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[Ubuntu autofs 設定筆記]]></title>
        <id>https://mikimoto.github.io/blog/ubuntu-autofs-configuration</id>
        <link href="https://mikimoto.github.io/blog/ubuntu-autofs-configuration"/>
        <updated>2020-11-06T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[每次爬完漫畫，都要手動用 rsync 同步到 NAS 上，一直找不到機會好好設定這個自動化流程。]]></summary>
        <content type="html"><![CDATA[<p>每次爬完漫畫，都要手動用 rsync 同步到 NAS 上，一直找不到機會好好設定這個自動化流程。</p>
<p>我的構想是在 NAS 上架設 NFS（SMB 也可以，但是想說 NFS 比較沒有權限問題），利用 autofs 讓抓圖機(Linux)可以 mount NFS，直接存檔即可。</p>
<p>在 /etc/auto.misc 最後加上這一行</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">/mnt    /etc/auto.nas --timeout 60 --ghost</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="複製程式碼至剪貼簿" title="複製" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>新增 /etc/auto.nas 加上這一行，xxx 換成你的 NAS IP</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">*       -fstype=nfs,soft,intr,rsize=32768,wsize=32768,nosuid,tcp xxx.xxx.xxx.xxx:/volume1/ebook</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="複製程式碼至剪貼簿" title="複製" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>打完收工，記得設定完重新開機或重啟服務</p>]]></content>
        <author>
            <name>Mikimoto</name>
            <uri>https://mikimoto.github.io</uri>
        </author>
        <category label="Linux" term="Linux"/>
        <category label="System" term="System"/>
        <category label="Ubuntu" term="Ubuntu"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[控制 UIScrollView 的快速捲動的減速速度]]></title>
        <id>https://mikimoto.github.io/blog/uiscrollview-decelerationrate-study</id>
        <link href="https://mikimoto.github.io/blog/uiscrollview-decelerationrate-study"/>
        <updated>2020-11-03T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[負責的 APP 因為優化過了 UITableView 的捲動，捲動順暢了，但是連帶的使用者操作反而會常觸發快速捲動模式。]]></summary>
        <content type="html"><![CDATA[<p>負責的 APP 因為優化過了 UITableView 的捲動，捲動順暢了，但是連帶的使用者操作反而會常觸發快速捲動模式。</p>
<p>如果覺得快速捲動過程中，滾動速度過快，一滑就溜出去很遠。而且最糟糕的是在快速捲動時，使用者要操作時會因為動畫而有延遲的現象。一開始的想法是去找有沒有可以把快速捲動模式取消的方法，可是好像沒法控制 UIScrollView 的快速捲動。</p>
<p>不過在翻文件的過程當中，讓我找到 UIScrollView 的 decelerationRate 的屬性，來控制快速捲動的減速速度，decelerationRate 為 CGFloat，範圍從 0 ~ 1。</p>
<p>系統有預設兩種常數可以用來控制：</p>
<ul>
<li>normal = 0.998 (預設值)，正常減速</li>
<li>fast = 0.99 ，更快減速</li>
</ul>
<p>使用範例：</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">self.tableview.decelerationRate = .fast</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="複製程式碼至剪貼簿" title="複製" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>我們也可以將 decelerationRate 設為自訂值，例如：</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">self.tableview.decelerationRate = 0.1</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="複製程式碼至剪貼簿" title="複製" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>你會發現捲動很快就停下來。</p>
<p>UITableView 繼承自 UIScrollView，因此來自於 UIScrollView 的控制項也會作用在 UITableView 身上。</p>]]></content>
        <author>
            <name>Mikimoto</name>
            <uri>https://mikimoto.github.io</uri>
        </author>
        <category label="Apple" term="Apple"/>
        <category label="iOS" term="iOS"/>
        <category label="UIKit" term="UIKit"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[部署到 Github 上的 Hugo Blog 紀錄]]></title>
        <id>https://mikimoto.github.io/blog/github-hugo-implement</id>
        <link href="https://mikimoto.github.io/blog/github-hugo-implement"/>
        <updated>2020-10-22T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[想要找的地方把自己的 Note 整理一下，既然是工程師當然要善用工程師社交網站 Github 來放 Blog。Hugo 好像比 Hexo 來多人使用，佈景主題也比較齊全，所以就有了這篇動手建立的實作紀錄。]]></summary>
        <content type="html"><![CDATA[<p>想要找的地方把自己的 Note 整理一下，既然是工程師當然要善用工程師社交網站 Github 來放 Blog。Hugo 好像比 Hexo 來多人使用，佈景主題也比較齊全，所以就有了這篇動手建立的實作紀錄。</p>
<p>Hugo 是一套用 Go 寫成的靜態網頁產生器，因此很適合用來部署在 Github 上面的 public 頁面。</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="安裝">安裝<a href="https://mikimoto.github.io/blog/github-hugo-implement#%E5%AE%89%E8%A3%9D" class="hash-link" aria-label="安裝的直接連結" title="安裝的直接連結">​</a></h2>
<p>在 Mac 平台上可以用 Homebrew 安裝</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">brew install hugo</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="複製程式碼至剪貼簿" title="複製" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>其他安裝方式，可參考<a href="https://gohugo.io/getting-started/installing/" target="_blank" rel="noopener noreferrer">官網</a></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="產生新的網站">產生新的網站<a href="https://mikimoto.github.io/blog/github-hugo-implement#%E7%94%A2%E7%94%9F%E6%96%B0%E7%9A%84%E7%B6%B2%E7%AB%99" class="hash-link" aria-label="產生新的網站的直接連結" title="產生新的網站的直接連結">​</a></h2>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">mkdir &lt;your site path&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cd &lt;your site path&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">hugo new site &lt;your site name&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="複製程式碼至剪貼簿" title="複製" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>產生新網站時，會一並把 hugo 專案的基本目錄與檔案產生給你，對於新手來說非常方便。</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="安裝喜歡的佈景主題">安裝喜歡的佈景主題<a href="https://mikimoto.github.io/blog/github-hugo-implement#%E5%AE%89%E8%A3%9D%E5%96%9C%E6%AD%A1%E7%9A%84%E4%BD%88%E6%99%AF%E4%B8%BB%E9%A1%8C" class="hash-link" aria-label="安裝喜歡的佈景主題的直接連結" title="安裝喜歡的佈景主題的直接連結">​</a></h2>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">cd &lt;your site path&gt;/&lt;your site name&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git clone &lt;your theme git repo&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="複製程式碼至剪貼簿" title="複製" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>我自己是用<a href="https://github.com/kakawait/hugo-tranquilpeak-theme.git" target="_blank" rel="noopener noreferrer">hugo-tranquilpeak-theme</a>，但你也可以參考<a href="https://themes.gohugo.io/" target="_blank" rel="noopener noreferrer">Hugo Theme</a>下載自己喜歡的 theme，下面紀錄就用 hugo-tranquilpeak-theme 來說明怎麼設定。</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="設定佈景主題">設定佈景主題<a href="https://mikimoto.github.io/blog/github-hugo-implement#%E8%A8%AD%E5%AE%9A%E4%BD%88%E6%99%AF%E4%B8%BB%E9%A1%8C" class="hash-link" aria-label="設定佈景主題的直接連結" title="設定佈景主題的直接連結">​</a></h2>
<p>Hugo 的設定檔是專案目錄下的 config.toml，一開始我們可以先套用 theme 附帶的範例設定，然後再來修改。像 hugo-tranquilpeak-theme 的目錄下有 exampleSite 就是預設好的範例，我們用 rsync 來覆蓋掉 hugo 產生的範例。</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">cd &lt;your site path&gt;/&lt;your site name&gt;/thems/&lt;your theme&gt;/exampleSite</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">rsync -avh config.toml ../../../</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">rsync -avh content ../../../</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">rsync -avh static ../../../</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="複製程式碼至剪貼簿" title="複製" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>再依據自己的需求修改 config.toml 即可開始使用囉。
<a href="https://github.com/kakawait/hugo-tranquilpeak-theme/blob/master/docs/user.md#writing-posts" target="_blank" rel="noopener noreferrer">hugo-tranquilpeak-theme 線上說明</a></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="開始撰寫新的筆記">開始撰寫新的筆記<a href="https://mikimoto.github.io/blog/github-hugo-implement#%E9%96%8B%E5%A7%8B%E6%92%B0%E5%AF%AB%E6%96%B0%E7%9A%84%E7%AD%86%E8%A8%98" class="hash-link" aria-label="開始撰寫新的筆記的直接連結" title="開始撰寫新的筆記的直接連結">​</a></h2>
<p>你可以用以下指令：</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">cd &lt;your site&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">hugo new</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="複製程式碼至剪貼簿" title="複製" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>開啟一篇新文章，或是在 [your site name]/content/post 目錄，新增 Markdown 檔案。</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="本機端測試">本機端測試<a href="https://mikimoto.github.io/blog/github-hugo-implement#%E6%9C%AC%E6%A9%9F%E7%AB%AF%E6%B8%AC%E8%A9%A6" class="hash-link" aria-label="本機端測試的直接連結" title="本機端測試的直接連結">​</a></h2>
<p>你可以用以下指令：</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">cd &lt;your site&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">hugo server</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="複製程式碼至剪貼簿" title="複製" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>開啟瀏覽器 <a href="http://localhost:1313/" target="_blank" rel="noopener noreferrer">http://localhost:1313/</a></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="部署到-github">部署到 Github<a href="https://mikimoto.github.io/blog/github-hugo-implement#%E9%83%A8%E7%BD%B2%E5%88%B0-github" class="hash-link" aria-label="部署到 Github的直接連結" title="部署到 Github的直接連結">​</a></h2>
<p>Github 支援使用每一個帳號有一個專屬的 Github Page，部署到 Github 上有兩種方式：</p>
<ul>
<li>User/Organization Pages (https://[USERNAME or ORGANIZATION].github.io/)</li>
<li>Project Pages (https://[USERNAME orORGANIZATION].github.io/[PROJECT]/)</li>
</ul>
<p>我們以 User Pages 的方式說明:</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="建立-repository">建立 repository<a href="https://mikimoto.github.io/blog/github-hugo-implement#%E5%BB%BA%E7%AB%8B-repository" class="hash-link" aria-label="建立 repository的直接連結" title="建立 repository的直接連結">​</a></h3>
<p>請先建立 &lt; your username &gt;/ &lt; your username &gt;.github.io 這個 repository 當作你帳號的專屬頁面</p>
<p>p.s. 你的 theme 如果是 clone 來的，建議另外用 submodule 掛上去</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="撰寫-github-action">撰寫 Github Action<a href="https://mikimoto.github.io/blog/github-hugo-implement#%E6%92%B0%E5%AF%AB-github-action" class="hash-link" aria-label="撰寫 Github Action的直接連結" title="撰寫 Github Action的直接連結">​</a></h3>
<p>在 Github 上的 Actions 去新增一個 Action，填入以下內容：</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">{{&lt; codeblock ".github/workflows/main.yml" ".github/workflows/main.yml" "http://underscorejs.org/#compact" ".github/workflows/main.yml" &gt;}}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># This is a basic workflow to help you get started with Actions</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">name: Hugo Build and Deploy</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Controls when the action will run. Triggers the workflow on push or pull request</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># events but only for the master branch</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">on:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  push:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    branches: [ master ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  pull_request:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    branches: [ master ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># A workflow run is made up of one or more jobs that can run sequentially or in parallel</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">jobs:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  # This workflow contains a single job called "build"</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  build:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    # The type of runner that the job will run on</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    runs-on: ubuntu-latest</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    # Steps represent a sequence of tasks that will be executed as part of the job</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    steps:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      # Checks-out your repository under $GITHUB_WORKSPACE, so your job can access it</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      - uses: actions/checkout@v2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        with:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          submodules: true  # Fetch Hugo themes (true OR recursive)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          fetch-depth: 0    # Fetch all history for .GitInfo and .Lastmod</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      # Runs a single command using the runners shell</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      - name: Setup Hugo</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        uses: peaceiris/actions-hugo@v2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        with:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          hugo-version: 'latest'</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          extended: true</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        #run: echo Hello, world!</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      - uses: actions/cache@v2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        with:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          path: /tmp/hugo_cache</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          key: ${{ runner.os }}-hugomod-${{ hashFiles('**/go.sum') }}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          restore-keys: |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            ${{ runner.os }}-hugomod-</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      # Runs a set of commands using the runners shell</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      - name: Build</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        run: hugo --minify</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      - name: Deploy</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        uses: peaceiris/actions-gh-pages@v3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        with:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          github_token: ${{ secrets.GITHUB_TOKEN }}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          publish_dir: ./public</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{{&lt; /codeblock &gt;}}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="複製程式碼至剪貼簿" title="複製" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Github Action 在 Deploy 時會幫你建立 gh-pages 並把產生於 ./public 的靜態網站 commit 上去。設定完成後，可以看看 run 的結果調整。</p>
<p>最後不要忘記到  repository 的設定裡面把 Github Pages 功能打開並對應到 gh-pages 的 branch。</p>
<p>如果上述步驟都成功，你應該可以連線到 https:// &lt; username &gt; .github.io 去看看自己的成果。</p>]]></content>
        <author>
            <name>Mikimoto</name>
            <uri>https://mikimoto.github.io</uri>
        </author>
        <category label="GitHub" term="GitHub"/>
        <category label="Blog" term="Blog"/>
    </entry>
</feed>