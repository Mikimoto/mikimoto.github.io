"use strict";(self.webpackChunkmikimoto_github_io=self.webpackChunkmikimoto_github_io||[]).push([[6968],{8823:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>o,contentTitle:()=>t,default:()=>p,frontMatter:()=>r,metadata:()=>i,toc:()=>d});const i=JSON.parse('{"id":"vcpkg-note","title":"Vcpkg \u7684\u5b89\u88dd\u8207\u4f7f\u7528\u7b46\u8a18","description":"Vcpkg \u7684\u5b89\u88dd\u8207\u4f7f\u7528\u7b46\u8a18 ##","source":"@site/docs/vcpkg-note.md","sourceDirName":".","slug":"/vcpkg-note","permalink":"/docs/vcpkg-note","draft":false,"unlisted":false,"tags":[],"version":"current","lastUpdatedAt":1706400000000,"sidebarPosition":0,"frontMatter":{"title":"Vcpkg \u7684\u5b89\u88dd\u8207\u4f7f\u7528\u7b46\u8a18","sidebar_position":0,"sidebar_label":"Vcpkg \u7684\u5b89\u88dd\u8207\u4f7f\u7528\u7b46\u8a18","hide_table_of_contents":false,"last_update":{"date":"2024-01-28T00:00:00.000Z"}},"sidebar":"tutorialSidebar","previous":{"title":"Intro","permalink":"/docs/"}}');var c=s(4848),l=s(8453);const r={title:"Vcpkg \u7684\u5b89\u88dd\u8207\u4f7f\u7528\u7b46\u8a18",sidebar_position:0,sidebar_label:"Vcpkg \u7684\u5b89\u88dd\u8207\u4f7f\u7528\u7b46\u8a18",hide_table_of_contents:!1,last_update:{date:new Date("2024-01-28T00:00:00.000Z")}},t=void 0,o={},d=[{value:"Vcpkg \u7684\u5b89\u88dd\u8207\u4f7f\u7528\u7b46\u8a18",id:"vcpkg-\u7684\u5b89\u88dd\u8207\u4f7f\u7528\u7b46\u8a18",level:2},{value:"\u5b89\u88dd",id:"\u5b89\u88dd",level:3},{value:"\u6574\u5408\u9032 CMake",id:"\u6574\u5408\u9032-cmake",level:3},{value:"\u5176\u4ed6",id:"\u5176\u4ed6",level:3}];function a(e){const n={a:"a",blockquote:"blockquote",code:"code",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,l.R)(),...e.components};return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(n.h2,{id:"vcpkg-\u7684\u5b89\u88dd\u8207\u4f7f\u7528\u7b46\u8a18",children:"Vcpkg \u7684\u5b89\u88dd\u8207\u4f7f\u7528\u7b46\u8a18"}),"\n",(0,c.jsx)(n.h3,{id:"\u5b89\u88dd",children:"\u5b89\u88dd"}),"\n",(0,c.jsxs)(n.ol,{children:["\n",(0,c.jsxs)(n.li,{children:["\n",(0,c.jsxs)(n.p,{children:["\u5c07 ",(0,c.jsx)(n.a,{href:"https://github.com/microsoft/vcpkg",children:"Vcpkg"})," \u7684\u7a0b\u5f0f\u78bc clone \u5230\u4f60\u6e96\u5099\u7684\u76ee\u9304\u4e0b\uff08\u4e0d\u9700\u8981\u653e\u5728\u5c08\u6848\u5167\uff0c\u53ef\u4ee5\u591a\u6578\u5c08\u6848\u5171\u7528\uff09"]}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{children:"git clone https://github.com/microsoft/vcpkg.git\n"})}),"\n"]}),"\n",(0,c.jsxs)(n.li,{children:["\n",(0,c.jsx)(n.p,{children:"\u57f7\u884c vcpkg \u4e0b\u7684\u8a2d\u5b9a shell script"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{children:"./bootstrap-vcpkg.sh\n"})}),"\n",(0,c.jsx)(n.p,{children:"\u9019\u4e00\u6b65\u6703\u5728\u76ee\u9304\u4e0b\u7522\u751f\u4e00\u500b vcpkg \u7684\u57f7\u884c script\uff0c\u7528\u65bc vcpkg \u7684\u5b89\u88dd\u3001\u67e5\u8a62\u7b49\u5de5\u5177\uff0c\u4f46\u8207 CMake \u6574\u5408\u4e4b\u5f8c\uff0c\u4e0d\u6703\u76f4\u63a5\u7528\u5230\u9019\u500b\u5de5\u5177\u3002"}),"\n"]}),"\n"]}),"\n",(0,c.jsx)(n.h3,{id:"\u6574\u5408\u9032-cmake",children:"\u6574\u5408\u9032 CMake"}),"\n",(0,c.jsxs)(n.ol,{children:["\n",(0,c.jsxs)(n.li,{children:["\n",(0,c.jsx)(n.p,{children:"\u5728\u76ee\u9304\u4e0b\u65b0\u589e\u6a94\u6848 CMakeUserPresets.cmake\uff0c\u4e26\u5728\u88e1\u9762\u52a0\u5165\u4e0b\u5217\u5167\u5bb9:"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-json",children:'{\n   "version": 2,\n   "configurePresets": [\n      {\n         "name": "default",  \n         "inherits": "vcpkg",\n         "environment": {\n            "VCPKG_ROOT": "${sourceDir}/../vcpkg"\n         }\n      }\n   ]\n}\n'})}),"\n",(0,c.jsxs)(n.blockquote,{children:["\n",(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsx)(n.li,{children:"name \u662f CMake \u7684 preset \u540d\u7a31\uff0c\u9019\u88e1\u6211\u5011\u7528 default \u70ba\u4f8b\u5b50\u3002"}),"\n",(0,c.jsx)(n.li,{children:"VCPKG_ROOT \u662f\u524d\u9762 vcpkg \u7684 git clone \u8def\u5f91\uff0c\u9019\u88e1\u6211\u7528\u5c08\u6848\u76f8\u5c0d\u8def\u5f91\u3002"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,c.jsxs)(n.li,{children:["\n",(0,c.jsx)(n.p,{children:"\u5728\u76ee\u9304\u4e0b\u65b0\u589e CMakePresets.json\uff0c\u4e26\u5728\u88e1\u9762\u52a0\u5165\u4e0b\u5217\u5167\u5bb9:"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-json",children:'{\n   "version": 2,\n   "configurePresets": [\n      {\n         "name": "vcpkg",\n         "generator": "Unix Makefiles",\n         "binaryDir": "${sourceDir}/build",\n         "cacheVariables": {\n            "CMAKE_TOOLCHAIN_FILE": "$env{VCPKG_ROOT}/scripts/buildsystems/vcpkg.cmake"\n         }\n      }\n   ]\n}\n'})}),"\n",(0,c.jsxs)(n.blockquote,{children:["\n",(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsx)(n.li,{children:"generator \u662f CMake \u7684 generator \u540d\u7a31\uff0c\u9019\u88e1\u6211\u5011\u7528 Unix Makefiles \u70ba\u4f8b\u5b50\u3002"}),"\n",(0,c.jsx)(n.li,{children:"CMAKE_TOOLCHAIN_FILE \u662f CMake \u6574\u5408 vcpkg \u7684\u95dc\u9375\uff0c\u9019\u88e1\u6211\u5011\u7528 CMakeUserPresets \u8a2d\u5b9a\u7684 VCPKG_ROOT \u4f5c\u70ba base\u3002"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,c.jsxs)(n.li,{children:["\n",(0,c.jsx)(n.p,{children:"\u5728\u76ee\u9304\u4e0b\u65b0\u589e vcpkg.json\uff0c\u4e26\u5728\u88e1\u9762\u52a0\u5165\u4e0b\u5217\u5167\u5bb9:"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-json",children:'{\n   "dependencies": [\n      "openssl",\n      "protobuf"\n      ...\n   ]   \n}\n'})}),"\n",(0,c.jsx)(n.p,{children:"\u88e1\u9762\u8a2d\u5b9a\u4f60\u5c08\u6848\u9700\u8981\u5f15\u7528\u7684\u5957\u4ef6\uff0c\u9019\u6a23\u5728\u57f7\u884c CMake \u7684\u6642\u5019\u5c31\u6703\u81ea\u52d5\u5b89\u88dd\u9019\u4e9b\u5957\u4ef6\u3002"}),"\n"]}),"\n",(0,c.jsxs)(n.li,{children:["\n",(0,c.jsx)(n.p,{children:"\u8a2d\u5b9a\u597d CMakeList.txt \u5f8c\uff0c\u4f8b\u5982\u6211\u7fd2\u6163\u5efa\u7acb\u4e00\u500b build \u76ee\u9304\u4f5c\u70ba\u7de8\u8b6f\u76ee\u9304\uff0c\u6211\u5c31\u6703\u57f7\u884c\u4ee5\u4e0b\u547d\u4ee4\uff1a"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{children:"madir build\ncd build\ncmake --preset=default ../\n"})}),"\n",(0,c.jsx)(n.p,{children:"Makefile \u6703\u81ea\u52d5\u7522\u751f\u5728 build \u76ee\u9304\u4e0b\uff0c\u7136\u5f8c\u5c31\u53ef\u4ee5\u7de8\u8b6f\u4e86\u3002"}),"\n"]}),"\n"]}),"\n",(0,c.jsx)(n.h3,{id:"\u5176\u4ed6",children:"\u5176\u4ed6"}),"\n",(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsx)(n.li,{children:"vcpkg \u5b89\u88dd\u7684\u5957\u4ef6\u6703\u5728 build \u76ee\u9304\u4e0b\u7684 vcpkg_installed \u76ee\u9304\u4e0b\u3002"}),"\n"]})]})}function p(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,c.jsx)(n,{...e,children:(0,c.jsx)(a,{...e})}):a(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>r,x:()=>t});var i=s(6540);const c={},l=i.createContext(c);function r(e){const n=i.useContext(l);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(c):e.components||c:r(e.components),i.createElement(l.Provider,{value:n},e.children)}}}]);