"use strict";(self.webpackChunkmikimoto_github_io=self.webpackChunkmikimoto_github_io||[]).push([[635],{2123:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>l,contentTitle:()=>c,default:()=>u,frontMatter:()=>r,metadata:()=>t,toc:()=>a});var t=s(870),o=s(4848),i=s(8453);const r={slug:"check-linux-in-use-port",title:"How do I check if a port is in use on Linux?",authors:["mikimoto"],tags:["linux","system"]},c=void 0,l={authorsImageUrls:[void 0]},a=[{value:"\u6aa2\u67e5 Linux \u76ee\u524d\u4f7f\u7528\u7684 port",id:"\u6aa2\u67e5-linux-\u76ee\u524d\u4f7f\u7528\u7684-port",level:2},{value:"\u641c\u5c0b\u54ea\u4e00\u500b process \u6b63\u5728 listening port 443",id:"\u641c\u5c0b\u54ea\u4e00\u500b-process-\u6b63\u5728-listening-port-443",level:2},{value:"\u53d6\u5f97\u6240\u6709 open port \u7684\u6e05\u55ae",id:"\u53d6\u5f97\u6240\u6709-open-port-\u7684\u6e05\u55ae",level:2},{value:"Use fuser command to check if a TCP or UDP port is in use on Linux",id:"use-fuser-command-to-check-if-a-tcp-or-udp-port-is-in-use-on-linux",level:2},{value:"Use nc command \u4f86\u6aa2\u67e5 TCP or UDP port is used",id:"use-nc-command-\u4f86\u6aa2\u67e5-tcp-or-udp-port-is-used",level:2}];function p(e){const n={code:"code",h2:"h2",li:"li",ol:"ol",p:"p",pre:"pre",...(0,i.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.p,{children:"\u5e38\u5e38\u6709\u6642\u5019\u8981\u67e5 Linux \u4f7f\u7528 port \u7684\u72c0\u6cc1\uff0c\u4f86\u78ba\u5b9a service \u662f\u5426\u6b63\u5e38\uff0c\u5c31\u9084\u8981\u7528 man \u53bb\u67e5\u53c3\u6578\uff0c\u5beb\u7bc7\u6587\u7d00\u9304\u4e00\u4e0b\u3002"}),"\n",(0,o.jsx)(n.h2,{id:"\u6aa2\u67e5-linux-\u76ee\u524d\u4f7f\u7528\u7684-port",children:"\u6aa2\u67e5 Linux \u76ee\u524d\u4f7f\u7528\u7684 port"}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsx)(n.li,{children:"\u4f7f\u7528\u4ee5\u4e0b command"}),"\n"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"sudo lsof -i -P -n | grep LISTEN\nsudo netstat -tulpn | grep LISTEN\nsudo netstat -tulpn | grep :443\nsudo ss -tulpn | grep LISTEN\nsudo ss -tulpn | grep ':22'\nsudo fuser -v -n tcp 443\n"})}),"\n",(0,o.jsxs)(n.ol,{start:"2",children:["\n",(0,o.jsx)(n.li,{children:"\u5f9e /etc/services \u641c\u5c0b\uff0c\u628a PORT_NUMBER_HERE \u63db\u6210\u8981\u641c\u5c0b\u7684 port"}),"\n"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"grep -E -w '[PORT_NUMBER_HERE]/(tcp|udp)' /etc/services\n"})}),"\n",(0,o.jsx)(n.h2,{id:"\u641c\u5c0b\u54ea\u4e00\u500b-process-\u6b63\u5728-listening-port-443",children:"\u641c\u5c0b\u54ea\u4e00\u500b process \u6b63\u5728 listening port 443"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"sudo netstat -tulpn | grep :443\nsudo ss -tulpn | grep ':443'\n"})}),"\n",(0,o.jsx)(n.h2,{id:"\u53d6\u5f97\u6240\u6709-open-port-\u7684\u6e05\u55ae",children:"\u53d6\u5f97\u6240\u6709 open port \u7684\u6e05\u55ae"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"sudo lsof -i -P -n | grep LISTEN\nsudo ss -tulpn\nsudo netstat -tulpn\n"})}),"\n",(0,o.jsx)(n.p,{children:"Sample outputs:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-Shell",children:"Active Internet connections (only servers)\nProto Recv-Q Send-Q Local Address           Foreign Address         State       PID/Program name\ntcp        0      0 127.0.0.1:6379          0.0.0.0:*               LISTEN      500/redis-server 12\ntcp        0      0 0.0.0.0:80              0.0.0.0:*               LISTEN      438/nginx -g daemon\ntcp        0      0 127.0.0.1:8080          0.0.0.0:*               LISTEN      407/lighttpd    \ntcp        0      0 0.0.0.0:443             0.0.0.0:*               LISTEN      438/nginx -g daemon\ntcp6       0      0 :::80                   :::*                    LISTEN      438/nginx -g daemon\nudp        0      0 0.0.0.0:68              0.0.0.0:*                           277/dhclient\n"})}),"\n",(0,o.jsx)(n.h2,{id:"use-fuser-command-to-check-if-a-tcp-or-udp-port-is-in-use-on-linux",children:"Use fuser command to check if a TCP or UDP port is in use on Linux"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"sudo fuser -v -n <protocol> <port>\n"})}),"\n",(0,o.jsx)(n.p,{children:"Ex: \u6aa2\u67e5 SSHD (port 22) is in use:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"sudo fuser -v -n tcp 22\n"})}),"\n",(0,o.jsx)(n.p,{children:"Outputs:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-Shell",children:"                     USER        PID ACCESS COMMAND\n22/tcp:              root        663 F.... sshd\n                     root       9877 F.... sshd\n                     ubuntu     9992 F.... sshd\n"})}),"\n",(0,o.jsx)(n.p,{children:"Ex: \u6aa2\u67e5 DNS Server (port 53) UDP port is in use:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"sudo fuser -nv udp 53\n"})}),"\n",(0,o.jsx)(n.p,{children:"Outputs:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-Shell",children:"53/udp:                392  1189\n"})}),"\n",(0,o.jsx)(n.h2,{id:"use-nc-command-\u4f86\u6aa2\u67e5-tcp-or-udp-port-is-used",children:"Use nc command \u4f86\u6aa2\u67e5 TCP or UDP port is used"}),"\n",(0,o.jsx)(n.p,{children:"Try the nc command as follows to scan the open ports (TCP/22 ssh port) of a specified host (10.8.0.1):"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"nc -v -z <ip_address> <port>\nnc -v -z 10.8.0.1 22\n"})}),"\n",(0,o.jsx)(n.p,{children:"Outputs:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-Shell",children:"Connection to 10.8.0.1 22 port [tcp/ssh] succeeded!\n"})}),"\n",(0,o.jsx)(n.p,{children:"\u4e0d\u904e\u5982\u679c\u4f60\u5728\u9632\u706b\u7246(block port 22)\u80cc\u5f8c\uff0c\u5247 Output \u6703\u8b8a\u6210\u4ee5\u4e0b\u9019\u6a23"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-Shell",children:"nc: connect to 10.8.0.1 port 23 (tcp) failed: Connection refused\n"})})]})}function u(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(p,{...e})}):p(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>r,x:()=>c});var t=s(6540);const o={},i=t.createContext(o);function r(e){const n=t.useContext(i);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:r(e.components),t.createElement(i.Provider,{value:n},e.children)}},870:e=>{e.exports=JSON.parse('{"permalink":"/en/blog/check-linux-in-use-port","source":"@site/blog/2024-02-27-check-linux-in-use-port.md","title":"How do I check if a port is in use on Linux?","description":"\u5e38\u5e38\u6709\u6642\u5019\u8981\u67e5 Linux \u4f7f\u7528 port \u7684\u72c0\u6cc1\uff0c\u4f86\u78ba\u5b9a service \u662f\u5426\u6b63\u5e38\uff0c\u5c31\u9084\u8981\u7528 man \u53bb\u67e5\u53c3\u6578\uff0c\u5beb\u7bc7\u6587\u7d00\u9304\u4e00\u4e0b\u3002","date":"2024-02-27T00:00:00.000Z","tags":[{"inline":false,"label":"Linux","permalink":"/en/blog/tags/linux","description":"Linux tag description"},{"inline":false,"label":"System","permalink":"/en/blog/tags/system","description":"System tag description"}],"readingTime":2.075,"hasTruncateMarker":true,"authors":[{"name":"Mikimoto","title":"Mikimoto","url":"https://mikimoto.github.io","page":{"permalink":"/en/blog/authors/mikimoto"},"socials":{"x":"https://x.com/mikimoto","linkedin":"https://www.linkedin.com/in/mikimotochuang/","github":"https://github.com/mikimoto"},"imageURL":"https://avatars.githubusercontent.com/u/143029?s=400&v=4","key":"mikimoto"}],"frontMatter":{"slug":"check-linux-in-use-port","title":"How do I check if a port is in use on Linux?","authors":["mikimoto"],"tags":["linux","system"]},"unlisted":false,"nextItem":{"title":"NeoVim + LazyVim \u8a2d\u5b9a\u7b46\u8a18","permalink":"/en/blog/nvim-setting"}}')}}]);